---
title: Objeto String
permalink: /javascript/objeto-string/
---

## Crear un objeto String

Para poder manipular las cadenas de texto, [Javacript][Javacript] nos ofrece el objeto `String`. De esta manera podemos crear un [objeto String][String] de la siguiente forma:

~~~javascript
let cadena = new String("cadena de texto");
~~~

## Operaciones con el objeto String
Lo bueno del `String` es que nos proporciona una serie de m칠todos para poder manipular de una forma sencilla las cadenas de texto.

### Tama침o de una cadena de texto
El objeto `String` tiene una propiedad llamada `.length` que nos devuelve el tama침o de la cadena de texto. Su sintaxis ser치:

~~~javascript
.length
~~~

De esta forma podr칤amos mostrar el tama침o de una cadena por consola mediante el siguiente c칩digo:

~~~javascript
let cadena = "Soy una cadena";
console.log("El tama침o de la cadena \"" + cadena + "\" es de "  + cadena.length);
~~~

### Buscar caracteres por posici칩n en la cadena
Si lo que nos interesa es buscar contenido dentro de la cadena de texto, [Javascript][Javascript] nos ofrece unos cuantos m칠todos dentro del objeto `String`.

Por ejemplo podemos buscar un car치cter, un c칩digo o un c칩digo de punto mediante los m칠todos:

* `chatAt(indice)`, nos devuelve el car치cter situado en la posici칩n pasada como par치metro.
* `charCodeAt(indice)`, nos devuelve el car치cter unicode en la posici칩n pasada como par치metro.
* `codePointAt()`, nos devuelve el c칩digo unicode situado en la posici칩n pasada como par치metro.

As칤 podemos buscar qu칠 car치cter hay en la posici칩n 2 de una cadena mediante el siguiente c칩digo:

~~~javascript
let cadena = "Soy una cadena";
console.log("En la posici칩n 2 est치 el car치cter " + cadena.charAt(2));
// Devuelve "y"
~~~

O podemos recuperar el c칩digo o car치cter unicode de un smile.

~~~javascript
let emojis = "游땔游땍游땕";
console.log("En la posici칩n 2 est치 el car치cter unicode " + emojis.charCodeAt(2));
console.log("En la posici칩n 2 est치 el c칩digo unicode " + emojis.codePointAt(2));
// Devuelve "55357" y "128522"
~~~

> Ojo que el tama침o de los car치cteres UNICODE es de 2, por lo que la anterior cadena tendr칤a un tama침o de 6.

### Buscar subcadena en la cadena
Si en vez de buscar por posici칩n queremos buscar una subcadena dentro de la cadena tenemos un par de m칠todos en el objeto `String`.

* `indexOf(subcadena,[indiceDesde])`, busca la primera posici칩n del car치cter en la cadena y nos devuelve un n칰mero negativo si no se encuentra en la cadena. Podemos pasarle el 칤ndice desde el cual queremos empezar la b칰squeda.
* `lastIndexOf(subcadena,[indiceDesde])`, en este caso busca la 칰ltima posici칤n del car치cter en la cadena y nos devuelve negativo si no lo encuentra en la cadena. Podemos pasarle el 칤ndice desde el cual queremos empezar la b칰squeda.

As칤 podemos tener el siguiente c칩digo que nos busque una subcadena dentro de una frase:

~~~javascript
let frase = "En un lugar de la Mancha";
indice = frase.indexOf("Mancha");
if (indice > 0)
  console.log("El texto est치 en la posici칩n " + indice);
else 
  console.log("El texto buscado no est치 en la frase");
~~~

Y si el texto buscado aparece varias veces y queremos saber la 칰ltima vez que nos aparece podr칤amos tener el siguiente c칩digo:

~~~javascript
let frase = "Todo pasa y todo queda, pero lo nuestro es pasar haciendo caminos, caminos sobre la mar";
palabra = "caminos";
indice = frase.lastIndexOf(palabra);
if (indice > 0)
  console.log("La 칰ltima vez que aparece la palabra \"" + palabra  + "\" es en la posici칩n " + indice);
else 
  console.log("La palabra \"" + palabra  + "\ no aparece en la frase");
~~~

### Comprobar el inicio y fin de la cadena
En el caso de querer comprobar si una cadena empieza o termina de una u otra forma tenemos los siguientes m칠todos en el objeto `String`.

* `startsWith(subcadena,[indiceDesde])`, comprueba que la cadena empieza por la subcadena. Podemos indicarle mediante el par치emtro `indiceDesde` la posici칩n de la cadena en la que empezar칤a la b칰squeda.
* `endsWith(subcadena,[indiceDesde])`, comprueba que la cadena finaliza por la subcadena. Podemos indicarle mediante el par치emtro `indiceDesde` la posici칩n de la cadena en la que empezar칤a la b칰squeda.

As칤 podremos comprobar el inicio de una fase de la siguiente forma:

~~~javascript
let frase = "En un lugar de la Mancha, de cuyo nombre no quiero acordarme, no ha mucho tiempo que viv칤a un hidalgo de los de lanza en astillero, adarga antigua, roc칤n flaco y galgo corredor";

if (frase.startsWith("En un lugar de la Mancha"))
  console.log("Eres el Quijote");
else
  console.log("Parace que no eres el Quijote");
~~~


## Manipular la cadena >>> En p치gina nueva

### Concatenar cadenas
Una de las cosas que podemos hacer al tener m치s de una cadena en [Javascript][Javascript] es concatener el contenido de la cadena. Es decir obtener una cadena nueva a partir de dos o m치s cadenas.

De esta forma para poder concatenar cadenas en [Javascript][Javascript] disponemos de los siguientes m칠todos en el objeto `String`.

* `concat(cadena1,cadena2,...cadenaN)`, nos permite concatenar las cadenas pasadas por par치metro a la cadena actual.
* `fromCharCode(codigoUnicode1, codigoUnicode2,...codigoUnicodeN)`, nos permite construir una cadena a partir de los c칩digos Unicode pasados por par치metro.
* `fronCodePoint(secuenciaCodigo1, secuenciaCodigo2,...secuenciaCodigoN)`, nos permite construir una cadena a partir de las secuencias de c칩digo pasadas por par치metro.

Un ejemplo de concatenaci칩n de cadenas ser칤a el siguiente:

~~~javascript
let nombre = "Manual Web";
let saludo = "Hola ".concat(nombre);
console.log(saludo);
// Nos mostrar칤a "Hola Manual Web"
~~~

Si queremos manipular las cadenas con los c칩digos de car치cter podemos realizar lo siguiente:

~~~javascript
let saludo = String.fromCharCode(72,111,108,97);
console.log(saludo);
// Nos mostrar칤a "hola"
~~~

Y si queremos el concatenar textos con emojis podemos recurrir a su c칩digo Unicode.

~~~javascript
let frase = "Me gusta mucho ".concat(String.fromCodePoint(0x1F602));
console.log(frase);
// Nos mostrar칤a "Me gusta mucho 游땍"
~~~

### Dividir cadenas
En el caso de que queramos dividir el contenido tenemos el m칠todo `.split()` del objeto `String`.

* `split(separador)`, dada una cadena crea una divisi칩n de los elementos atendiendo al separador pasado como par치metro. Nos devuelve un array con las cadenas de resultado.

As칤 el uso de `split` es muy extendido cuando tenemos una cadena con elementos delimitados por un separador y queremos generar una lista. Por ejemplo podr칤amos tener la siguiente divisi칩n de cadenas.

~~~javascript
let cadena='casa,arbol,jard칤n,pelota,columpio';
let elementos = cadena.split(',');
for (elemento in elementos)
  console.log(elementos[elemento]);
~~~

### Extraer cadenas
Para poder extraer cadenas para obtener nuevas cadenas tenemos varias alternativas:

* `slice(inicio,fin)`, extrae una parte de la cadena y genera una nueva. Lo que hace es extraer de inicio a fin. Pero estos 칤ndices pueden ser negativos. En este caso el valor negativo es igual a la longitud de la cadena menos el n칰mero negativo.
* `substring(indiceInicio,indiceFin)`, en este caso extrae la cadena desde el 칤ndice inicio hasta el 칤ndice final. Siendo siempre 칤ndices positivos.

As칤, si queremos extraer los 6 칰ltimos caracteres, menos el 칰ltimo podr칤amos realizarlo de la siguiente forma mediante `slice()`:

~~~javascript
let cadena = 'Yo soy una frase.';
console.log(cadena.slice(-6,-1));
~~~

Y si queremos los 6 primeros podemos utilizar `substring()`:
~~~javascript
let cadena = 'Yo soy una frase.';
console.log(cadena.slice(0,6));
~~~

Adem치s podemos combinar el m칠todo `.substring()` con el m칠todo `.indexOf()` para para poder calcular el n칰mero de ocurrencias de una palabra dentro de una frase.

~~~javascript
let frase = "Todo pasa y todo queda, pero lo nuestro es pasar haciendo caminos, caminos sobre la mar";
let palabra = "caminos";
let contador = 0;

while (frase.indexOf(palabra)>0) {
  contador++;
  frase = frase.substring(frase.indexOf(palabra)+palabra.length);
}

console.log("La palabra " + palabra + " aparece " + contador + " veces.");
~~~


### B칰squedas con expresiones regulares.

* `match(expresion_regular)`, realiza una b칰squeda de la expresi칩n regular sobre la cadena y devuelve un array con todas las ocurrencias que esten en la cadena y que cuadren con la expresi칩n regular.
* `matchAll(expresion_regular)`, realiza una b칰squeda de la expresi칩n regular sobre la cadena y devuelve un iterador de expresiones regulares d칩nde cada elemento iterable contiene el valor encontrado, el 칤ndice d칩nde se encontr칩 y la cadena sobre la que se ha buscado.
* `search(expresion_regular)`, realizar una b칰squeda de la expresi칩n regular en la cadena y devuelve el primer 칤ndice en el que se encuentra la expresi칩n regular. Vendr칤a a ser como el m칠todo `indexof()` pero mediante una expresi칩n regular.

De esta forma, una sencilla b칰squeda mediante expresiones regulares la podr칤amos hacer de la siguiente forma con el m칠todo `match()`.

~~~javascript
let cadena = "Alemania, Austria, Espa침a, Estonia, Italia, Irlanda, Uruguay, Uganda";
elementos = cadena.match(/E[A-z침]*/gm);
console.log(elementos);
for (elemento in elementos)
  console.log(elementos[elemento]);
~~~

Y en el caso de querer recibir m치s informaci칩n podemos utilizar el m칠todo `matchAll()` y luego iterar sobre los elementos. Vemos que nos ayudamos de una estructura `for...of` para poder recorrer dichos elementos.

~~~javascript
let cadena = "Alemania, Austria, Espa침a, Estonia, Italia, Irlanda, Uruguay, Uganda";
elementos = cadena.matchAll(/E[A-z침]*/gm);

for (elemento of elementos)
  console.log("Elemento " + elemento[0] + " en posici칩n " + elemento["index"]);
~~~

Podr칤amos realizar la implementaci칩n de un buscador de palabras mediante expresiones regulares mediante yna combinaci칩n del m칠todo `search()` y el m칠todo `substring`.

~~~javascript
let frase = "Alemania, Austria, Espa침a, Estonia, Italia, Irlanda, Uruguay, Uganda";
let contador = 0;

while (frase.search(/E[A-z침]*/gm)>0) {
  contador++;
  frase = frase.substring(frase.search(/E[A-z침]*/gm)+1);
}

console.log("La expresi칩n \"/E[A-z침]*/gm\" aparece " + contador + " veces.");
~~~


## Reemplazar contenido
El objeto `String` nos ofrece un par de m칠todos para poder reemplazar contenido de una cadena. En este caso la cadena de b칰squeda puede ser una cadena normal o una expresi칩n regular.

* `replace(cadena|expresi칩n,nueva_cadena)`, reemplaza **la primera coincidencia** de cadena o de la expresi칩n regular por el valor nueva_cadena.
* `replaceAll(cadena|expresi칩n,nueva_cadena)`, reemplaza **todas las coincidencias** de cadena o de la expresi칩n regular por el valor de nueva_cadena.


As칤 podremos hacer una b칰squeda y reemplazo de un elemento utilizando el m칠todo `replace()` con una cadena de texto.

~~~javascript
let frase = "Alemania, Austria, Espa침a, Estonia, Italia, Irlanda, Uruguay, Uganda";
console.log(frase);

frase = frase.replace("Estonia","Lituania");
console.log(frase);
~~~

O utilizando el m칠todo `replace()` con una expresi칤n regular:

~~~javascript
let frase = "Alemania, Austria, Espa침a, Estonia, Italia, Irlanda, Uruguay, Uganda";
console.log(frase);

frase = frase.replace(/I[A-z침]*/,"Descartado");
console.log(frase);
~~~

Si queremos reemplazar todas la coincidencias utilizaremos el m칠todo `replaceAll()` mediante una cadena:

~~~javascript
let frase = "Todo pasa y todo queda, pero lo nuestro es pasar haciendo caminos, caminos sobre la mar";
console.log(frase);

frase = frase.replaceAll("caminos","puentes");
console.log(frase);
~~~

O bien el m칠todo `replaceAll()` mediante una expresi칩n regular:


~~~javascript
let frase = "Alemania, Austria, Espa침a, Estonia, Italia, Irlanda, Uruguay, Uganda";
console.log(frase);

frase = frase.replaceAll(/I[A-z침]*/gm,"Descartado");
console.log(frase);
~~~

> En el caso de que utilicemos `replaceAll()` mediante una expresi칩n regular deberemos de incluir el modificador **g** que aplica la b칰squeda global. Si utilizamos el modificador **g** en el m칠todo `replace()` funcionar치 igual que el m칠todo `replaceAll()`


### Convertir contenido de la cadena

El objeto `String` tambi칠n nos da la capacidad de convertir el contenido de las cadenas de texto. As칤 nos ofrece una serie de m칠todos como:

* `toLowerCase()`, que convierte la cadena a min칰sculas.
* `toUpperCase()`, que convierte la cadena a may칰suculas
* `normalize()`, devuelve normalizados los c칩digos Unicode de la cadena para que puedan ser analizadas.
* `repeat()`, repite la cadena tantas veces como indiquemos como par치metro al m칠todo.
* `trim()`, elimina los espacios en blanco del principio y final de cadena.


~~~javascript
let cadena = "Soy una CADENA de TEXTO";
cadena = cadena.toLowerCase();
console.log(cadena);
~~~


~~~javascript
let cadena = "Soy una CADENA de TEXTO";
cadena = cadena.toUpperCase();
console.log(cadena);
~~~

~~~javascript
let c1 = 'caf\u00E9';
let c2 = 'cafe\u0301';

console.log(c1);
console.log(c2);

if (c1==c2)
  console.log("Son dos cadenas iguales");
else
  console.log("Son dos cadenas diferentes");

c1 = c1.normalize();
c2 = c2.normalize();

console.log(c1);
console.log(c2);

if (c1==c2)
  console.log("Son dos cadenas iguales");
else
  console.log("Son dos cadenas diferentes");
~~~

~~~javascript
let cadena = "Hola ";
console.log(cadena.repeat(2));
~~~

~~~javascript
let cadena_con_espacios = "  soy una cadena con espacios al inicio y fin      ";
console.log("La cadena tiene un tama침o de :" + cadena_con_espacios.length);
let cadena_sin_espacios = cadena_con_espacios.trim();
console.log("La cadena tiene un tama침o de :" + cadena_sin_espacios.length);
~~~


[Javacript]: {{site.url}}/javascript/
[String]: http://www.w3api.com/javascript/String